{"version":3,"sources":["containers/game-player/actions.js","constants/food.js","components/grid-cell/index.js","components/grid/index.js","constants/directions.js","components/button-svg/index.js","containers/game-controls/index.js","containers/game-controls/actions.js","components/score-board/index.js","components/score-board/actions.js","containers/game-player/index.js","App.js","containers/game-player/initialStates.js","config/game.js","containers/game-player/helpers/utils.js","containers/game-player/helpers/game-timer.js","containers/game-player/helpers/game-helpers.js","containers/game-player/reducer.js","config/store.js","index.js"],"names":["setupNewGame","type","foodColors","RED","colorName","PINK","YELLOW","GREEN","DEFAULT","foodList","APPLE","name","points","color","STRAWBERRY","BANANA","FROG","foodListArray","GridCell","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","cellClasses","props","hasSnake","push","snakeColor","isSnakeHead","concat","nextSnakeDirection","hasFood","foodInfo","classNames","join","react_default","a","createElement","className","Component","connect","state","ownProps","cellById","cellId","Grid","_this","gridStyle","gridTemplateColumns","width","gridTemplateRows","height","style","cells","j","i","grid_cell","grid","gridCanvas","directions","ButtonSVG","onClick","startGame","viewBox","xmlns","maxWidth","config","fill","d","mask","id","x","y","xCordinates","buttonText","GameControls","call","bind","assertThisInitialized","pauseGame","setUpNewGame","handleKeyDown","e","direction","console","log","keyCode","preventDefault","updateDirection","document","addEventListener","removeEventListener","running","paused","button_svg","dead","class","gameState","ScoreBoard","gState","error","scoreBoard","level","score","disabled","GamePlayer","score_board","components_grid","game_controls","App","game_player","initialGameState","initialScoreBoard","initialGameControls","initialGridCanvas","initialCellById","initialCell","initialSnakeInfo","head","tail","length","speed","gridSize","snake","speedLevels","1","minScore","2","3","4","rand","min","max","Math","ceil","floor","random","getNextNumberInRange","number","difference","Error","gameTimer","GameTimer","dispatch","timeout","clearTimeout","setTimeout","snakeInfo","createNewGridWithRandomSnake","cellsById","nextSnakeCell","randomCell","gridInfo","createNewFood","getState","_getState","_getState$gridCanvas","emptyCells","cell","randomFood","processStep","moveOneStep","nextStep","nextSnakeHead","getNextHead","gameControls","nextHeadCellInfo","markSnakeDead","newSnakeInfo","payload","currentTailCell","newScore","changeGameLevel","cellReducer","undefined","action","objectSpread","rootReducer","combineReducers","loop","Cmd","list","run","successActionCreator","data","failActionCreator","args","cellWithFood","errorInfo","defineProperty","enhancers","composeWithDevTools","composeEnhancers","install","store","createStore","ReactDOM","render","es","src_App","getElementById"],"mappings":"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","file":"static/js/main.2f16ad79.chunk.js","sourcesContent":["export const SETUP_NEW_GAME = 'setup-new-game';\nexport const SETUP_NEW_SCORE_BOARD = 'setup-new-score-board';\nexport const RESET_GAME = 'reset-game';\nexport const SETUP_GRID = 'setup-grid';\nexport const GAME_ERROR = 'game-error';\nexport const SETUP_CELLS_BY_ID = 'setup-cells-by-id';\nexport const UPDATE_SNAKE = 'update-snake';\nexport const CREATE_NEW_FOOD = 'create-new-food';\nexport const PLACE_FOOD = 'place-food';\nexport const STEP = 'step';\nexport const ADD_NEW_HEAD = 'add-new-head';\nexport const UPDATE_CURRENT_HEAD = 'update-current-head';\nexport const REMOVE_CURRENT_TAIL = 'remove-current-tail';\nexport const UPDATE_SCORE = 'update-score';\nexport const DEAD_GAME = 'dead-game';\nexport const UPDATE_LEVEL = 'update-level';\n\nexport const setupNewGame = () => ({\n    type: SETUP_NEW_GAME // this will setup game state, then score board, then grid and all cells, and then place random snake in it.\n});\n","export const foodColors = {\n    RED: {\n        colorName: 'snake-color-red'\n    },\n    PINK: {\n        colorName: 'snake-color-pink'\n    },\n    YELLOW: {\n        colorName: 'snake-color-yellow'\n    },\n    GREEN: {\n        colorName: 'snake-color-green'\n    },\n    DEFAULT: {\n        colorName: 'snake-color-grey'\n    }\n}\n\nexport const foodList = {\n    APPLE: {\n        name: 'apple',\n        points: 15,\n        color: foodColors.RED,\n    },\n    STRAWBERRY: {\n        name: 'strawberry',\n        points: 10,\n        color: foodColors.PINK\n    },\n    BANANA: {\n        name: 'banana',\n        points: 5,\n        color: foodColors.YELLOW\n    },\n    FROG: {\n        name: 'frog',\n        points: 20,\n        color: foodColors.GREEN\n    }\n}\n\n\nexport const foodListArray = [foodList.APPLE, foodList.STRAWBERRY, foodList.BANANA, foodList.FROG]","import './style.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { foodColors } from '../../constants/food';\n\n\nexport class GridCell extends Component {\n    render() {\n        const cellClasses = ['grid-cell'];\n\n        if (this.props.hasSnake) {\n            cellClasses.push(this.props.snakeColor || foodColors.DEFAULT.colorName);\n            if (this.props.isSnakeHead) {\n                cellClasses.push('snake-head');\n            } else {\n                cellClasses.push(`snake-body snake-${this.props.nextSnakeDirection}`);\n            }\n        }\n\n        if (this.props.hasFood) {\n            cellClasses.push(`food-name-${this.props.foodInfo.name}`);\n        }\n        \n        const classNames = cellClasses.join(' ');\n        \n        return (\n            <div key={this.props.key} className={classNames}>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    (state, ownProps) => state.cellById[ownProps.cellId] || {}, // map state to props\n)(GridCell);","import './style.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport GridCell from '../grid-cell';\n\n\nexport class Grid extends Component {\n    render() {\n        const gridStyle = {\n            gridTemplateColumns: `repeat(${this.props.width}, minmax(0, 1fr))`,\n            gridTemplateRows: `repeat(${this.props.height}, minmax(0, 1fr))`,\n        }\n        return (\n            <div className=\"grid\" style={gridStyle}>\n                {\n                    ((width, height) => {\n                        const cells = [];\n                        for(let j=0; j < height; j++) {\n                            for(let i=0; i < width; i++) {\n                                cells.push(<GridCell key={this.props.grid[i][j]} cellId={this.props.grid[i][j]}/>)\n                            }\n                        }\n                        return cells;\n                    })(this.props.width, this.props.height)\n                }\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    (state) => state.gridCanvas, // map state to props\n)(Grid);\n","export const directions = {\n    UP: 'up',\n    DOWN: 'down',\n    LEFT: 'left',\n    RIGHT: 'right'\n}","import './style.css';\nimport React, { Component } from 'react';\n\nexport class ButtonSVG extends Component {\n    render() {\n        return (\n            <div className=\"button-svg\">\n                <svg onClick={this.props.startGame} viewBox=\"45 60 400 320\" xmlns=\"http://www.w3.org/2000/svg\" style={{\n                    maxWidth: `${this.props.config.width}`\n                }}>\n                    <path fill=\"#fff\" d=\"M 90 210 C 90 180 90 150 90 150 C 150 150 180 150 180 150 C 180 150 300 150 300 150 C 300 150 330 150 390 150 C 390 150 390 180 390 210 C 390 240 390 270 390 270 C 330 270 300 270 300 270 C 300 270 180 270 180 270 C 180 270 150 270 90 270 C 90 270 90 240 90 210\" mask=\"url(#knockout-text)\" >\n                    </path>\n                    <mask id=\"knockout-text\">\n                    <rect width=\"100%\" height=\"100%\" fill=\"#fff\" x=\"0\" y=\"0\" />\n                    <text x={this.props.config.xCordinates} y=\"227\" fill=\"#000\">{this.props.buttonText}</text>\n                    </mask>\n                </svg>\n            </div>\n        )\n    }\n}\n\nexport default ButtonSVG;","import './style.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { startGame, updateDirection } from './actions';\nimport { setupNewGame } from '../game-player/actions';\nimport { directions } from '../../constants/directions';\nimport ButtonSVG from '../../components/button-svg';\n\nexport class GameControls extends Component {\n    constructor(props) {\n        super(props);\n        this.startGame = this.startGame.bind(this);\n        this.pauseGame = this.pauseGame.bind(this);\n        this.setUpNewGame = this.setUpNewGame.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n\n    handleKeyDown(e) {\n        console.log('handle key down called')\n        let direction;\n        switch(e.keyCode) {\n            case 39:\n            case 68:\n                direction = directions.RIGHT;\n                break;\n            case 38:\n            case 87:\n                direction = directions.UP;\n                break;\n            case 37:\n            case 65:\n                direction = directions.LEFT;\n                break;\n            case 40:\n            case 83:\n                direction = directions.DOWN;\n                break;\n            default:\n        }\n\n        if(direction) {\n            e.preventDefault();\n            this.props.updateDirection(direction);\n        }\n    }\n\n    startGame() {\n        document.addEventListener(\"keydown\", this.handleKeyDown);\n        this.props.startGame();\n    }\n\n    pauseGame() {\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n        this.props.pauseGame();\n    }\n\n    setUpNewGame() {\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n        this.props.setupNewGame();\n    }\n\n    render() {\n        if (!this.props.running) {\n            return (\n                <div className=\"canvas-overlay\">\n                    <ButtonSVG startGame={this.startGame} buttonText={'Start Game'} config={{\n                        width: '300px',\n                        xCordinates: '141'\n                    }}/>\n                </div>\n            )\n        } else if (this.props.running && this.props.paused) {\n            return (\n                <div className=\"canvas-overlay\">\n                    <ButtonSVG startGame={this.startGame} buttonText={'Resume Game'} config={{\n                        width: '300px',\n                        xCordinates: '125'\n                    }}/>\n                </div>\n            )\n        } else if (this.props.running && this.props.dead) {\n            return (\n                <div className=\"canvas-overlay\">\n                    <div class=\"dead-text\">You are dead !</div>\n                    <ButtonSVG startGame={this.setUpNewGame} buttonText={'Ok'} config={{\n                        width: '200px',\n                        xCordinates: '210'\n                    }}/>\n                </div>\n            )\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default connect(\n    (state) => state.gameState,\n    { startGame, updateDirection, setupNewGame }\n)(GameControls);","export const START_GAME = 'start-game';\nexport const UPDATE_DIRECTION = 'update-direction';\n\nexport const startGame = () => ({\n    type: START_GAME,\n});\n\nexport const updateDirection = (direction) => {\n    return ({\n        type: UPDATE_DIRECTION,\n        direction,\n    });\n}","import './style.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { pauseGame } from './actions';\n\n\nexport class ScoreBoard extends Component {\n    render() {\n        const gState = this.props.gameState;\n        return (\n            <div className=\"score-board-wrapper\">\n                <div className={(gState.running && !(gState.paused || gState.dead || gState.error)) ? 'score-board white': 'score-board default'}>\n                    <div className=\"game-level\">\n                        <label>Level</label>\n                        <span>{this.props.scoreBoard.level}</span>\n                    </div>\n                    <div className=\"game-score\">\n                        <label>Score</label>\n                        <span>{this.props.scoreBoard.score}</span>\n                    </div>\n                    <div className=\"score-board-actions\">\n                        <div className=\"pause-button\">\n                            <button onClick={this.props.pauseGame} disabled={!gState.running || (gState.paused || gState.dead || gState.error)} >Pause Game</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    (state) => ({\n        scoreBoard: state.scoreBoard,\n        gameState: state.gameState\n    }),\n    { pauseGame }\n)(ScoreBoard);","export const PAUSE_GAME = 'pause-game';\n\nexport const pauseGame = () => ({\n    type: PAUSE_GAME,\n});","import './style.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { setupNewGame } from './actions';\nimport Grid from '../../components/grid';\nimport GameControls from '../game-controls';\nimport ScoreBoard from '../../components/score-board';\n\n\nexport class GamePlayer extends Component {\n    componentDidMount() {\n        this.props.setupNewGame();\n    }\n\n    render() {\n        return (\n            <section className=\"game-player\">\n                <div className=\"grid-canvas-wrapper\">\n                    <ScoreBoard />\n                    <div className=\"grid-canvas\">\n                        <Grid />\n                        <GameControls />\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default connect(\n    null, // no state mapped\n    { setupNewGame } // bind action creators\n)(GamePlayer);","import React from 'react';\nimport GamePlayer from './containers/game-player';\n\nfunction App() {\n  return <GamePlayer />\n}\n\nexport default App;\n","import { foodColors } from '../../constants/food';\nimport { directions } from '../../constants/directions';\n\nexport const initialGameState = {\n    running: false,\n    paused: false,\n    dead: false,\n    error: false\n}\n\nexport const initialScoreBoard = {\n    level: 1,\n    score: 0\n}\n\nexport const initialGameControls = {\n    direction: directions.RIGHT, // default direction\n}\n\nexport const initialGridCanvas = {\n    grid: [], // new Array(width).fill(new Array(height).fill(cell_ids))\n    height: 0,\n    width: 0\n};\n\nexport const initialCellById = {\n    // [id]: cellInfo\n}\n\nexport const initialCell = {\n    /**\n     * hasSnake: false,\n     * nextSnakeCell: {x: 2, y: 1},   // if it hasSnake\n     * nextSnakeDirection: null // example 'right', 'left', 'up', 'down'\n     * isSnakeHead: false,\n     * snakeColor: foodColors.DEFAULT\n     * hasFood: false,\n     * foodInfo: null || food.foodList.APPLE, etc,\n     */\n}\n\nexport const initialSnakeInfo = {\n    head: null, // head: {x: 3, x: 4}\n    tail: null, // tail: {x: 1, y: 4}\n    length: 0,\n    speed: 1000, // 1 sec\n    color: foodColors.DEFAULT\n}","export const gridSize = {\n    width: 30,\n    height: 30\n}\n\nexport const snake = {\n    startSpeed: 500 // .5 sec,\n}\n\nexport const speedLevels = {\n    1: {\n        minScore: 0,\n        speed: 500\n    },\n    2: {\n        minScore: 500,\n        speed: 300\n    },\n    3: {\n        minScore: 1000,\n        speed: 250,\n    },\n    4: {\n        minScore: 2000,\n        speed: 200\n    }\n}","/**\n * \n * @param { number } min \n * @param { number } max\n * @description 'Create Random number between min and max, with min inclusively\n */\nexport function rand(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\n/**\n * \n * @param { number } max \n * @param { number } number \n * @param { number } difference\n * @description 'Get number + difference within range like 0 - 1 will be max number and not -1 \n */\nexport function getNextNumberInRange(max, number, difference) {\n    if (number > max - 1 || number < 0) {\n        throw new Error('NexNumberInRange: Invalid number !');\n    }\n    if(difference > -1) {\n        return (number + difference) % max;\n    }\n    return (number + difference + max) % max;\n}","import { STEP } from '../actions';\n\nexport class GameTimer {\n    timeout;\n\n    nextStep(dispatch, state) {\n        this.timeout && clearTimeout(this.timeout);\n        this.timeout = setTimeout(() => dispatch({\n            type: STEP\n        }), state.snakeInfo.speed);\n    }\n}","import { foodColors, foodListArray } from '../../../constants/food';\nimport { directions } from '../../../constants/directions';\nimport { snake, speedLevels } from '../../../config/game';\nimport { rand, getNextNumberInRange } from './utils';\nimport { UPDATE_SNAKE, CREATE_NEW_FOOD, ADD_NEW_HEAD, UPDATE_CURRENT_HEAD, REMOVE_CURRENT_TAIL, UPDATE_SCORE, DEAD_GAME, UPDATE_LEVEL } from '../actions';\nimport { GameTimer } from './game-timer';\n\nconst gameTimer = new GameTimer();\n\nexport const createNewGridWithRandomSnake = (width, height) => {\n    const grid = [];\n    const cellsById = {};\n\n    for (let i = 0; i < width; i++) {\n        grid.push([]);\n        for (let j = 0; j < height; j++) {\n            const id = `cell_${i}_${j}`;\n            cellsById[id] = {\n                hasSnake: false,\n                nextSnakeCell: null,   // if it hasSnake and is not head of snake\n                nextSnakeDirection: null,\n                isSnakeHead: null,\n                snakeColor: null,\n                hasFood: false,\n                foodInfo: null,\n                id\n            };\n            grid[i].push(id);\n        }\n    }\n\n    // place snake head randomly\n    const randomCell = {\n        x: rand(0, width),\n        y: rand(0, height)\n    }\n    const snakeInfo = {\n        head: randomCell,\n        tail: randomCell,\n        length: 1,\n        speed: snake.startSpeed,\n        color: foodColors.DEFAULT.colorName\n    }\n\n    // update cell data also for snake\n    cellsById[grid[randomCell.x][randomCell.y]] = {\n        id: grid[randomCell.x][randomCell.y],\n        hasSnake: true,\n        nextSnakeCell: null,   // if it hasSnake and is not head of snake or length of snake is not 1\n        nextSnakeDirection: null,\n        isSnakeHead: true,\n        snakeColor: foodColors.DEFAULT.colorName,\n        hasFood: false,\n        foodInfo: null\n    }\n\n    return {\n        gridInfo: {\n            grid,\n            width,\n            height\n        },\n        cellsById,\n        snakeInfo\n    }\n};\n\n\nexport const createNewFood = (getState) => {\n    const { gridCanvas: { grid, width, height }, cellById } = getState();\n\n    const emptyCells = [];\n    for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n            const cell = cellById[grid[i][j]];\n\n            if (!cell.hasSnake && !cell.hasFood) { // cells that has no food and no snake\n                emptyCells.push(cell);\n            }\n        }\n    }\n\n    const randomCell = emptyCells[rand(0, emptyCells.length)];\n    const randomFood = foodListArray[rand(0, foodListArray.length)];\n\n    return {\n        id: randomCell.id,\n        hasFood: true,\n        foodInfo: randomFood\n    };\n};\n\nexport const getNextHead = (direction, head, width, height) => {\n    switch (direction) {\n        case directions.UP:\n            return {\n                x: head.x,\n                y: getNextNumberInRange(height, head.y, -1)\n            };\n        case directions.RIGHT:\n            return {\n                x: getNextNumberInRange(width, head.x, 1),\n                y: head.y\n            };\n        case directions.DOWN:\n            return {\n                x: head.x,\n                y: getNextNumberInRange(height, head.y, 1)\n            };\n        case directions.LEFT:\n            return {\n                x: getNextNumberInRange(width, head.x, -1),\n                y: head.y\n            };\n        default:\n            return head;\n    }\n};\n\nexport const markSnakeDead = (dispatch) => {\n    dispatch({\n        type: DEAD_GAME\n    })\n}\n\nexport const changeGameLevel = (dispatch, score, level) => {\n    if(speedLevels[level+1] && score > speedLevels[level+1].minScore) {\n        dispatch({\n            type: UPDATE_LEVEL,\n            payload: {\n                level: level+1\n            }\n        });\n        dispatch({\n            type: UPDATE_SNAKE,\n            payload: {\n                speed: speedLevels[level+1].speed\n            }\n        });\n    }\n}\n\nexport const processStep = (getState, dispatch) => {\n    const state = getState();\n    const continueTimer = moveOneStep(state, dispatch);\n    continueTimer && gameTimer.nextStep(dispatch, state);\n}\n\nexport const processOneStepOnly = (getState, dispatch) => {\n    const state = getState();\n    moveOneStep(state, dispatch);\n}\n\nexport const moveOneStep = (state, dispatch) => {\n    if (state.gameState.running && !(state.gameState.paused || state.gameState.error || state.gameState.dead)) {\n        const nextSnakeHead = getNextHead(\n            state.gameControls.direction,\n            state.snakeInfo.head,\n            state.gridCanvas.width,\n            state.gridCanvas.height\n        );\n\n        const nextHeadCellInfo = state.cellById[state.gridCanvas.grid[nextSnakeHead.x][nextSnakeHead.y]];\n        if (nextHeadCellInfo.hasSnake) {\n            if ((state.snakeInfo.length === 2) || !((state.snakeInfo.tail.x === nextSnakeHead.x) && (state.snakeInfo.tail.y === nextSnakeHead.y))) {\n                return markSnakeDead(dispatch);\n            }\n        }\n\n        const newSnakeInfo = {\n            head: nextSnakeHead,\n            color: (nextHeadCellInfo.hasFood && nextHeadCellInfo.foodInfo.color.colorName) || state.snakeInfo.color,\n            length: (nextHeadCellInfo.hasFood && (state.snakeInfo.length + 1)) || state.snakeInfo.length,\n        }\n\n        // headMove()\n        // add new head\n        dispatch({\n            type: ADD_NEW_HEAD,\n            payload: {\n                id: nextHeadCellInfo.id,\n                hasSnake: true,\n                nextSnakeCell: null,\n                nextSnakeDirection: null,\n                isSnakeHead: true,\n                snakeColor: newSnakeInfo.color,\n                hasFood: false,\n                foodInfo: null\n            }\n        });\n        // update old head cell\n        const currentHeadCell = state.cellById[state.gridCanvas.grid[state.snakeInfo.head.x][state.snakeInfo.head.y]];\n        dispatch({\n            type: UPDATE_CURRENT_HEAD,\n            payload: {\n                id: currentHeadCell.id,\n                nextSnakeCell: nextSnakeHead,\n                isSnakeHead: false,\n                nextSnakeDirection: state.gameControls.direction\n            }\n        });\n\n\n        // tailMove()\n        if (!nextHeadCellInfo.hasFood) {\n            // remove current tail\n            const currentTailCell = state.cellById[state.gridCanvas.grid[state.snakeInfo.tail.x][state.snakeInfo.tail.y]];\n            dispatch({\n                type: REMOVE_CURRENT_TAIL,\n                payload: {\n                    id: currentTailCell.id,\n                    nextSnakeCell: null,\n                    nextSnakeDirection: null,\n                    isSnakeHead: null,\n                    hasSnake: false,\n                    snakeColor: null,\n                    hasFood: false,\n                    foodInfo: null\n                }\n            });\n            // update snake info with new tail\n            newSnakeInfo.tail = currentTailCell.nextSnakeCell || nextSnakeHead; // for snake length 1 tail will be equal to newSnakeHead\n        }\n\n        dispatch({ type: UPDATE_SNAKE, payload: newSnakeInfo });\n\n        if (nextHeadCellInfo.hasFood) {\n            const newScore = state.scoreBoard.score + nextHeadCellInfo.foodInfo.points;\n            dispatch({\n                type: UPDATE_SCORE,\n                payload: {\n                    score: newScore\n                }\n            })\n            changeGameLevel(dispatch, newScore, state.scoreBoard.level);\n            dispatch({\n                type: CREATE_NEW_FOOD\n            });\n        }\n        return true;\n    } else {\n        return false;\n    }\n}","import { loop, Cmd } from 'redux-loop';\nimport {\n    SETUP_NEW_GAME,\n    SETUP_NEW_SCORE_BOARD,\n    RESET_GAME,\n    SETUP_GRID,\n    GAME_ERROR,\n    UPDATE_SNAKE,\n    SETUP_CELLS_BY_ID,\n    CREATE_NEW_FOOD,\n    PLACE_FOOD,\n    STEP,\n    ADD_NEW_HEAD,\n    UPDATE_CURRENT_HEAD,\n    REMOVE_CURRENT_TAIL,\n    UPDATE_SCORE,\n    DEAD_GAME,\n    UPDATE_LEVEL\n} from './actions';\nimport {\n    START_GAME,\n    UPDATE_DIRECTION,\n} from '../game-controls/actions';\nimport {\n    PAUSE_GAME\n} from '../../components/score-board/actions';\nimport { initialCell, initialCellById, initialGameState, initialGridCanvas, initialScoreBoard, initialSnakeInfo, initialGameControls } from './initialStates';\nimport { createNewGridWithRandomSnake, createNewFood, processStep } from './helpers/game-helpers';\nimport { gridSize } from '../../config/game';\nimport { directions } from '../../constants/directions';\n\nexport const gameStateReducer = (state = initialGameState, action) => {\n    switch (action.type) {\n        case SETUP_NEW_GAME:\n            return loop(\n                state,\n                Cmd.list([\n                    Cmd.action({ type: RESET_GAME }),\n                    Cmd.action({ type: SETUP_NEW_SCORE_BOARD }),\n                    Cmd.action({ type: UPDATE_DIRECTION, direction: directions.RIGHT}),\n                    Cmd.run(createNewGridWithRandomSnake, {\n                        successActionCreator: (data) => ({\n                            type: SETUP_GRID,\n                            payload: data\n                        }),\n                        failActionCreator: (error) => ({\n                            type: GAME_ERROR,\n                            error: error\n                        }),\n                        args: [gridSize.width, gridSize.height]\n                    }),\n                ])\n            );\n        case CREATE_NEW_FOOD:\n            return loop(\n                state,\n                Cmd.run(createNewFood, {\n                    successActionCreator: (cellWithFood) => ({\n                        type: PLACE_FOOD,\n                        payload: cellWithFood\n                    }),\n                    failActionCreator: (error) => ({\n                        type: GAME_ERROR,\n                        error: error\n                    }),\n                    args: [Cmd.getState]\n                })\n            );\n        case GAME_ERROR:\n            console.log('Error occured', action.error);\n            return {\n                ...state,\n                error: true,\n                errorInfo: action.error\n            }\n        case RESET_GAME:\n            return {\n                ...state,\n                running: false,\n                paused: false,\n                dead: false,\n                error: false,\n            }\n        case DEAD_GAME:\n            return {\n                ...state,\n                dead: true,\n            }\n        case START_GAME:\n            return loop(\n                {\n                    ...state,\n                    running: true,\n                    paused: false,\n                    dead: false,\n                    error: false,\n                },\n                Cmd.action({ type: STEP })\n            );\n        case PAUSE_GAME:\n            return {\n                ...state,\n                paused: true,\n            }\n        case STEP:\n            return loop(\n                state,\n                Cmd.run(processStep, {\n                    failActionCreator: (error) => ({\n                        type: GAME_ERROR,\n                        error: error\n                    }),\n                    args: [Cmd.getState, Cmd.dispatch]\n                })\n            );\n        default:\n            return state;\n    }\n}\n\nexport const scoreBoardReducer = (state = initialScoreBoard, action) => {\n    switch (action.type) {\n        case SETUP_NEW_SCORE_BOARD:\n            return {\n                ...state,\n                level: 1,\n                score: 0\n            }\n        case UPDATE_SCORE:\n            return {\n                ...state,\n                score: action.payload.score\n            }\n        case UPDATE_LEVEL:\n            return {\n                ...state,\n                level: action.payload.level\n            }\n        default:\n            return state;\n    }\n}\n\nexport const gameControlsReducer = (state = initialGameControls, action) => {\n    switch (action.type) {\n        case UPDATE_DIRECTION:\n            return loop(\n                {\n                    ...state,\n                    direction: action.direction\n                },\n                Cmd.action({ type: STEP })\n            );\n        default:\n            return state;\n    }\n}\n\nexport const gridCanvasReducer = (state = initialGridCanvas, action) => {\n    switch (action.type) {\n        case SETUP_GRID:\n            return loop(\n                {\n                    ...state,\n                    grid: action.payload.gridInfo.grid,\n                    width: action.payload.gridInfo.width,\n                    height: action.payload.gridInfo.height\n                },\n                Cmd.list([\n                    Cmd.action({ type: SETUP_CELLS_BY_ID, payload: action.payload.cellsById}),\n                    Cmd.action({ type: UPDATE_SNAKE, payload: action.payload.snakeInfo}),\n                    Cmd.action({ type: CREATE_NEW_FOOD })\n                ])\n            );\n        default:\n            return state;\n    }\n}\n\nexport const cellByIdReducer = (state = initialCellById, action) => {\n    switch (action.type) {\n        case SETUP_CELLS_BY_ID:\n            return action.payload;\n        case PLACE_FOOD:\n        case ADD_NEW_HEAD:\n        case UPDATE_CURRENT_HEAD:\n        case REMOVE_CURRENT_TAIL:\n            return {\n                ...state,\n                [action.payload.id]: cellReducer(state[action.payload.id], action)\n            }\n        default:\n            return state;\n    }\n}\n\nexport const cellReducer = (state = initialCell, action) => {\n    switch (action.type) {\n        case PLACE_FOOD:\n        case ADD_NEW_HEAD:\n        case UPDATE_CURRENT_HEAD:\n        case REMOVE_CURRENT_TAIL:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n\nexport const snakeInfoReducer = (state = initialSnakeInfo, action) => {\n    switch (action.type) {\n        case UPDATE_SNAKE:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}","import { createStore } from 'redux';\nimport { combineReducers } from 'redux-loop';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { install } from 'redux-loop';\nimport {\n    gameStateReducer,\n    scoreBoardReducer,\n    gridCanvasReducer,\n    cellByIdReducer,\n    snakeInfoReducer,\n    gameControlsReducer\n} from '../containers/game-player/reducer';\n\nconst rootReducer = combineReducers({\n    gameState: gameStateReducer,\n    scoreBoard: scoreBoardReducer,\n    gridCanvas: gridCanvasReducer,\n    cellById: cellByIdReducer,\n    snakeInfo: snakeInfoReducer,\n    gameControls: gameControlsReducer,\n});\n\nconst composeEnhancers = composeWithDevTools({\n    // Specify name here, actionsBlacklist, actionsCreators and other options if needed\n});\n\n\nconst enhancers = composeEnhancers(\n    install()\n);\n\nconst store = createStore(\n    rootReducer,\n    enhancers\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './config/store';\n\nconst AppWithStore = () => (\n    <Provider store={store}>\n        <App />\n    </Provider>\n);\n\nReactDOM.render(<AppWithStore />, document.getElementById('root'));\n"],"sourceRoot":""}